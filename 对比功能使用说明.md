# 作文对比功能使用说明

## 功能概述

学生在提交新作文时，可以选择与以前提交过的作文进行对比，AI会从五感训练法的角度对比两篇作文，分析进步情况和改进建议。

## 使用步骤

### 1. 启用对比功能
- 在作文提交区域，找到"与历史作文对比"开关
- 打开开关，会显示历史作文列表

### 2. 选择要对比的历史作文
- 从列表中单选一篇历史作文
- 每篇作文显示：题目、提交时间、得分
- 只能选择自己提交的作文

### 3. 提交作文
- 填写作文题目和内容
- 点击"提交并获取AI反馈"
- 如果启用了对比但未选择历史作文，系统会提示

## AI反馈内容

### 普通模式
- 本次作文评分（1-100分）
- 详细的五感运用点评
- 整体评价和改进建议

### 对比模式
除了普通模式的内容外，还包括：

#### 📊 五感描写方面的进步
1. **视觉描写**：对比两篇作文的视觉描写差异
2. **听觉描写**：分析声音描写的进步
3. **味觉描写**：评价味觉描写的运用
4. **嗅觉描写**：对比嗅觉描写的使用
5. **触觉描写**：评估触觉描写的改进

#### 💪 需要加强的五感
- 明确指出哪些感官描写还需要加强
- 给出具体的改进方法

#### 💡 五感训练建议
- 提供具体的五感训练方法
- 建议在哪些场景下可以运用五感

## 功能特点

1. **五感训练法为核心**：所有分析和建议都以五感训练法为基础
2. **详细对比分析**：不仅看分数，更看五感描写的具体进步
3. **成长曲线同步更新**：新作文仍然会计入成长曲线
4. **历史记录保留**：对比分析结果会保存到数据库

## 注意事项

1. 只有历史作文才能被选择进行对比
2. 一篇作文只能与一篇历史作文进行对比
3. 对比分析会增加AI调用时间，请耐心等待
4. 评分标准：五感描写30分、内容充实30分、结构完整20分、语言表达20分

## 数据库字段说明

### writing_record表新增字段：
- `score`: AI评分（1-100分）
- `previous_record_id`: 被对比的历史作文ID
- `comparison_analysis`: 详细的AI对比分析结果

### 数据库更新
首次使用需要执行：
```sql
-- 运行 backend/src/main/resources/add-comparison-fields.sql
```



