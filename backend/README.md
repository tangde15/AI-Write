# AIäº”æ„Ÿä½œæ–‡è®­ç»ƒå¹³å°

## é¡¹ç›®ç®€ä»‹

AIäº”æ„Ÿä½œæ–‡è®­ç»ƒå¹³å°æ˜¯ä¸€ä¸ªåŸºäºSpring Boot + Vue.jsçš„æ™ºèƒ½ä½œæ–‡æ•™å­¦ç³»ç»Ÿï¼Œæ—¨åœ¨é€šè¿‡AIæŠ€æœ¯å¸®åŠ©å­¦ç”Ÿæå‡å†™ä½œèƒ½åŠ›ã€‚ç³»ç»Ÿæ”¯æŒå­¦ç”Ÿã€æ•™å¸ˆã€å®¶é•¿ä¸‰ç§è§’è‰²ï¼Œæä¾›ä½œæ–‡å†™ä½œã€AIæ‰¹æ”¹ã€è¿›åº¦è·Ÿè¸ªã€æ¿€åŠ±äº’åŠ¨ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### å­¦ç”Ÿç«¯åŠŸèƒ½
- ğŸ“ æ™ºèƒ½ä½œæ–‡å†™ä½œï¼šåŸºäºäº”æ„Ÿå†™ä½œæ³•è¿›è¡Œä½œæ–‡åˆ›ä½œ
- ğŸ¤– AIæ™ºèƒ½æ‰¹æ”¹ï¼šå®æ—¶è·å¾—AIåé¦ˆå’Œå»ºè®®
- ğŸ“Š å­¦ä¹ è¿›åº¦è·Ÿè¸ªï¼šå¯è§†åŒ–å±•ç¤ºå†™ä½œè¿›æ­¥æ›²çº¿
- ğŸ’¬ æ¥æ”¶æ¿€åŠ±è¯­ï¼šæŸ¥çœ‹æ¥è‡ªæ•™å¸ˆå’Œå®¶é•¿çš„é¼“åŠ±
- ğŸ”— ç»‘å®šå…³ç³»ç®¡ç†ï¼šä¸»åŠ¨ç»‘å®šæ•™å¸ˆå’Œå®¶é•¿

### æ•™å¸ˆç«¯åŠŸèƒ½
- ğŸ‘¥ å­¦ç”Ÿç®¡ç†ï¼šæŸ¥çœ‹å’Œç®¡ç†ç»‘å®šçš„å­¦ç”Ÿ
- ğŸ“– ä½œæ–‡æ‰¹æ”¹ï¼šå¯¹å­¦ç”Ÿä½œæ–‡è¿›è¡Œä¸“ä¸šç‚¹è¯„
- ğŸ“ˆ è¿›åº¦ç›‘æ§ï¼šè·Ÿè¸ªå­¦ç”Ÿå­¦ä¹ è¿›åº¦å’Œæˆé•¿æ›²çº¿
- ğŸ’Œ å‘é€æ¿€åŠ±è¯­ï¼šç»™å­¦ç”Ÿå‘é€é¼“åŠ±å’ŒæŒ‡å¯¼
- ğŸ”— ä¸»åŠ¨ç»‘å®šå­¦ç”Ÿï¼šé€šè¿‡ç”¨æˆ·åç»‘å®šå­¦ç”Ÿ

### å®¶é•¿ç«¯åŠŸèƒ½
- ğŸ‘¶ å­©å­ç®¡ç†ï¼šæŸ¥çœ‹å’Œç®¡ç†ç»‘å®šçš„å­©å­
- ğŸ“Š æˆé•¿ç›‘æ§ï¼šå®æ—¶äº†è§£å­©å­çš„å­¦ä¹ è¿›åº¦
- ğŸ’ å‘é€æ¿€åŠ±è¯­ï¼šç»™å­©å­å‘é€é¼“åŠ±å’Œå…³çˆ±
- ğŸ“š ä½œæ–‡æŸ¥çœ‹ï¼šæŸ¥çœ‹å­©å­çš„ä½œæ–‡ä½œå“å’Œåé¦ˆ
- ğŸ”— ä¸»åŠ¨ç»‘å®šå­©å­ï¼šé€šè¿‡ç”¨æˆ·åç»‘å®šå­©å­

## æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **æ¡†æ¶**: Spring Boot 3.5.5
- **æ•°æ®åº“**: MySQL 8.0+
- **ORM**: Spring Data JPA + Hibernate
- **å®‰å…¨**: BCryptå¯†ç åŠ å¯†
- **AIé›†æˆ**: SiliconFlow API
- **æ„å»ºå·¥å…·**: Maven
- **Javaç‰ˆæœ¬**: JDK 17

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Vue.js 3.3.4
- **è·¯ç”±**: Vue Router 4.2.4
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1.6
- **UIç»„ä»¶**: Element Plus 2.3.14
- **å›¾è¡¨**: ECharts 5.4.3
- **HTTPå®¢æˆ·ç«¯**: Axios 1.5.0
- **æ„å»ºå·¥å…·**: Vite 4.4.9

## ç¯å¢ƒè¦æ±‚

### å¼€å‘ç¯å¢ƒ
- **JDK**: 17æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**: 16æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 8.0æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6æˆ–æ›´é«˜ç‰ˆæœ¬

### ç”Ÿäº§ç¯å¢ƒ
- **æœåŠ¡å™¨**: Linux/Windows Server
- **å†…å­˜**: æœ€å°‘2GB RAM
- **å­˜å‚¨**: æœ€å°‘10GBå¯ç”¨ç©ºé—´

## å¿«é€Ÿå¼€å§‹

### 1. æ•°æ®åº“é…ç½®

#### åˆ›å»ºæ•°æ®åº“
```sql
-- æ‰§è¡Œ CREATE_DATABASE.sql æ–‡ä»¶
CREATE DATABASE IF NOT EXISTS aiwriting 
CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;
```

#### åˆ›å»ºæ•°æ®è¡¨
```sql
-- æ‰§è¡Œ schema.sql æ–‡ä»¶ä¸­çš„å»ºè¡¨è¯­å¥
-- æˆ–è€…è®©Spring Bootè‡ªåŠ¨åˆ›å»ºï¼ˆæ¨èå¼€å‘ç¯å¢ƒï¼‰
```

### 2. åç«¯é…ç½®

#### ä¿®æ”¹æ•°æ®åº“è¿æ¥é…ç½®
ç¼–è¾‘ `src/main/resources/application.yml`:

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/aiwriting?useSSL=false&serverTimezone=Asia/Shanghai
    username: your_username    # ä¿®æ”¹ä¸ºä½ çš„MySQLç”¨æˆ·å
    password: your_password    # ä¿®æ”¹ä¸ºä½ çš„MySQLå¯†ç 
    driver-class-name: com.mysql.cj.jdbc.Driver

ai:
  api:
    url: https://api.siliconflow.cn/v1/chat/completions
    key: your_api_key          # ä¿®æ”¹ä¸ºä½ çš„SiliconFlow APIå¯†é’¥
```

#### å¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
mvn clean install
mvn spring-boot:run
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:8080` å¯åŠ¨

### 3. å‰ç«¯é…ç½®

#### å®‰è£…ä¾èµ–
```bash
cd frontend
npm install
```

#### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

å‰ç«¯æœåŠ¡å°†åœ¨ `http://localhost:5173` å¯åŠ¨

## éƒ¨ç½²æŒ‡å—

### åœ¨å…¶ä»–ä¸»æœºä¸Šéƒ¨ç½²

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å®‰è£…JDK 17
sudo apt update
sudo apt install openjdk-17-jdk

# å®‰è£…Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# å®‰è£…MySQL 8.0
sudo apt install mysql-server-8.0
```

#### 2. æ•°æ®åº“é…ç½®
```bash
# å¯åŠ¨MySQLæœåŠ¡
sudo systemctl start mysql
sudo systemctl enable mysql

# åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
sudo mysql -u root -p
```

åœ¨MySQLä¸­æ‰§è¡Œï¼š
```sql
CREATE DATABASE aiwriting CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'aiwriting_user'@'localhost' IDENTIFIED BY 'your_secure_password';
GRANT ALL PRIVILEGES ON aiwriting.* TO 'aiwriting_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

#### 3. åº”ç”¨é…ç½®ä¿®æ”¹

**åç«¯é…ç½®** (`backend/src/main/resources/application.yml`):
```yaml
server:
  port: 8080

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/aiwriting?useSSL=false&serverTimezone=Asia/Shanghai
    username: aiwriting_user
    password: your_secure_password
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false  # ç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­
    properties:
      hibernate.format_sql: false
      hibernate.dialect: org.hibernate.dialect.MySQLDialect

ai:
  api:
    url: https://api.siliconflow.cn/v1/chat/completions
    key: your_siliconflow_api_key  # æ›¿æ¢ä¸ºä½ çš„APIå¯†é’¥

logging:
  level:
    root: WARN
    com.write.write: INFO
```

**å‰ç«¯é…ç½®** (`frontend/src/api/auth.js`):
```javascript
// ä¿®æ”¹APIåŸºç¡€URLä¸ºä½ çš„æœåŠ¡å™¨åœ°å€
const API_BASE_URL = 'http://your-server-ip:8080/api'
```

#### 4. æ„å»ºå’Œéƒ¨ç½²

**åç«¯æ„å»º**:
```bash
cd backend
mvn clean package -DskipTests
java -jar target/Write-0.0.1-SNAPSHOT.jar
```

**å‰ç«¯æ„å»º**:
```bash
cd frontend
npm run build
# å°†distç›®å½•éƒ¨ç½²åˆ°WebæœåŠ¡å™¨ï¼ˆå¦‚Nginxï¼‰
```

#### 5. ä½¿ç”¨Nginxéƒ¨ç½²å‰ç«¯ï¼ˆå¯é€‰ï¼‰
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:8080/api;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## APIæ–‡æ¡£

### è®¤è¯ç›¸å…³
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º

### ç»‘å®šç›¸å…³
- `POST /api/binding/teacher/bind-student` - æ•™å¸ˆç»‘å®šå­¦ç”Ÿ
- `POST /api/binding/parent/bind-child` - å®¶é•¿ç»‘å®šå­©å­
- `GET /api/binding/my-bindings` - è·å–æˆ‘çš„ç»‘å®šåˆ—è¡¨

### ä½œæ–‡ç›¸å…³
- `POST /api/writing/submit` - æäº¤ä½œæ–‡
- `GET /api/writing/records` - è·å–ä½œæ–‡è®°å½•
- `GET /api/writing/progress` - è·å–å­¦ä¹ è¿›åº¦

### æ¿€åŠ±è¯­ç›¸å…³
- `POST /api/encouragement/send` - å‘é€æ¿€åŠ±è¯­
- `GET /api/encouragement/messages` - è·å–æ¿€åŠ±è¯­åˆ—è¡¨

## æ•°æ®åº“è¡¨ç»“æ„

### ç”¨æˆ·è¡¨ (user_account)
- `id`: ä¸»é”®
- `username`: ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰
- `password`: å¯†ç ï¼ˆBCryptåŠ å¯†ï¼‰
- `role`: è§’è‰²ï¼ˆSTUDENT/TEACHER/PARENTï¼‰

### ä½œæ–‡è®°å½•è¡¨ (writing_record)
- `id`: ä¸»é”®
- `user_id`: ç”¨æˆ·ID
- `topic`: ä½œæ–‡é¢˜ç›®
- `essay`: ä½œæ–‡å†…å®¹
- `ai_response`: AIåé¦ˆ
- `teacher_feedback`: æ•™å¸ˆæ‰¹æ”¹
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

### å­¦ä¹ è¿›åº¦è¡¨ (writing_progress)
- `id`: ä¸»é”®
- `student_id`: å­¦ç”ŸID
- `avg_score`: å¹³å‡åˆ†æ•°
- `improvement_rate`: è¿›æ­¥ç‡
- `date`: æ—¥æœŸ

### ç»‘å®šå…³ç³»è¡¨
- `student_teacher`: å¸ˆç”Ÿç»‘å®šå…³ç³»
- `student_parent`: äº²å­ç»‘å®šå…³ç³»

### æ¿€åŠ±è¯­è¡¨ (encouragement_message)
- `id`: ä¸»é”®
- `student_id`: å­¦ç”ŸID
- `sender_id`: å‘é€è€…ID
- `from_role`: å‘é€è€…è§’è‰²
- `content`: æ¿€åŠ±è¯­å†…å®¹
- `created_at`: åˆ›å»ºæ—¶é—´

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è·å–SiliconFlow APIå¯†é’¥ï¼Ÿ
A: è®¿é—® [SiliconFlowå®˜ç½‘](https://siliconflow.cn) æ³¨å†Œè´¦å·å¹¶è·å–APIå¯†é’¥ã€‚

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ï¼Œæ•°æ®åº“æ˜¯å¦å­˜åœ¨ã€‚

### Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ
A: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œç«¯å£æ˜¯å¦è¢«å ç”¨ï¼ŒCORSé…ç½®æ˜¯å¦æ­£ç¡®ã€‚

### Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ
A: åˆ é™¤æ•°æ®åº“åé‡æ–°æ‰§è¡Œ `CREATE_DATABASE.sql` å’Œ `schema.sql`ã€‚

## å¼€å‘å›¢é˜Ÿ

- **åç«¯å¼€å‘**: Spring Boot + JPA
- **å‰ç«¯å¼€å‘**: Vue.js + Element Plus
- **æ•°æ®åº“è®¾è®¡**: MySQL
- **AIé›†æˆ**: SiliconFlow API

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹ LICENSE æ–‡ä»¶ã€‚

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-XX)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¯ æ”¯æŒå­¦ç”Ÿã€æ•™å¸ˆã€å®¶é•¿ä¸‰ç§è§’è‰²
- ğŸ¤– é›†æˆAIä½œæ–‡æ‰¹æ”¹åŠŸèƒ½
- ğŸ“Š å®ç°å­¦ä¹ è¿›åº¦è·Ÿè¸ª
- ğŸ’¬ æ”¯æŒæ¿€åŠ±è¯­äº’åŠ¨
- ğŸ”— å®ç°ä¸»åŠ¨ç»‘å®šåŠŸèƒ½

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚


